<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/tw-elements/dist/css/index.min.css"
    />

    <!-- tailwindcss elements -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/tw-elements/dist/css/index.min.css"
    />

    <link href="../dist/output.css" rel="stylesheet" />
    <title>Registration</title>
    <link rel="icon" type="image/x-icon" href="../images/crvs-image.png" />
  </head>
  <body>
    <div class="min-h-full">
      <!-- Off-canvas menu for mobile, show/hide based on off-canvas menu state. -->
      <div
        id="sidebar"
        class="fixed inset-0 z-40 flex hidden"
        role="dialog"
        aria-modal="true"
      >
        <div
          class="fixed inset-0 bg-gray-600 bg-opacity-75"
          aria-hidden="true"
        ></div>

        <div
          class="relative flex w-full max-w-xs flex-1 flex-col bg-crvsblue-700 pt-5 pb-4"
        >
          <div class="absolute top-0 right-0 -mr-12 pt-2">
            <button
              id="close_sidebar"
              type="button"
              class="ml-1 flex h-10 w-10 items-center justify-center rounded-full focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white"
            >
              <span class="sr-only">Close sidebar</span>
              <!-- Heroicon name: outline/x -->
              <svg
                class="h-6 w-6 text-white"
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 24 24"
                stroke="currentColor"
                aria-hidden="true"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M6 18L18 6M6 6l12 12"
                />
              </svg>
            </button>
          </div>

          <!-- <div class="flex-shrink-0 flex items-center px-4"></div> -->

          <!--nav bar place-->
          <section include="navigation.html"></section>
        </div>

        <div class="w-14 flex-shrink-0" aria-hidden="true">
          <!-- Dummy element to force sidebar to shrink to fit close icon -->
        </div>
      </div>

      <!-- Static sidebar for desktop -->
      <div class="hidden lg:fixed lg:inset-y-0 lg:flex lg:w-64 lg:flex-col">
        <!-- Sidebar component, swap this element with another sidebar if you like -->

        <div
          class="flex flex-grow flex-col overflow-y-auto bg-crvsblue-700 pt-5 pb-4"
        >
          <div
            class="flex w-full flex-shrink-0 flex-row items-center justify-center space-x-3 px-4"
          >
            <image src="../images/crvs-image.png" class="h-10 w-16" />
            <h class="text-2xl font-bold tracking-widest text-white">CRVS</h>
          </div>

          <!-- navigation section -->
          <section include="navigation.html"></section>
        </div>
      </div>

      <div class="flex flex-1 flex-col lg:pl-64">
        <main id="mainpage" class="relative min-h-screen flex-1 pb-24">
          <!-- Page header -->
          <section include="header.html"></section>

          <!-- main section -->
          <div class="mx-2 mt-4 h-auto py-4 px-12">
            <div id="decDiv" class="stepper-content space-y-8">
              <div class="rounded bg-slate-100 px-96 py-4">
                <div class="mx-auto gap-8 space-y-4 py-8">
                  <label class="block">
                    <span class="required block text-base font-light">
                      <span class="font-medium">Uamuzi /</span>
                      Decision</span
                    >
                    <select
                      class="mt-1 h-10 w-full rounded border border-slate-400 bg-white px-4 focus:outline-crvsblue-700"
                    ></select>
                  </label>
                </div>

                <div class="flex w-full justify-end pb-4">
                  <button
                    data-bs-toggle="modal"
                    type="button"
                    data-bs-target="#lookUp"
                    class="rounded bg-crvsblue-700 px-3 py-2 font-semibold uppercase text-white hover:border hover:border-crvsblue-700 hover:bg-transparent hover:text-crvsblue-700"
                  >
                    add
                  </button>
                </div>
              </div>

              <div id="tablecontent" class="mt-6 mb-6 h-auto"></div>
            </div>
          </div>

          <section include="footer.html"></section>
        </main>
      </div>
    </div>

    <!-- Look Up  -->
    <div
      class="modal fade fixed top-0 left-0 hidden h-full w-full overflow-y-auto outline-none overflow-x-hidden"
      id="lookUp"
      tabindex="-1"
      aria-labelledby="exampleModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-lg pointer-events-none relative w-auto">
        <div
          class="modal-content pointer-events-auto relative flex w-full flex-col rounded-md border-none bg-white bg-clip-padding text-current shadow-lg outline-none"
        >
          <div
            class="modal-header flex flex-shrink-0 items-center justify-between rounded-t-md border-b border-gray-200 p-4"
          >
            <h5
              class="text-xl font-medium uppercase leading-normal text-gray-800"
              id="exampleModalLabel"
            >
              Add New Look Up
            </h5>
          </div>
          <div class="modal-body relative p-4">
            <form>
              <div class="py-4 px-6">
                <label class="block">
                  <span class="block text-base font-light">
                    <span class="font-medium">Look Up Name:</span>
                  </span>
                  <input
                    type="text"
                    class="mt-1 h-10 w-full rounded border border-slate-400 bg-white px-4 focus:outline-crvsblue-700"
                  />
                </label>
              </div>
            </form>

            <!-- The data table -->
            <div class="max-h-96"></div>
          </div>
          <div
            class="modal-footer flex flex-shrink-0 flex-wrap items-center justify-end space-x-3 rounded-b-md border-t border-gray-200 p-4 px-4"
          >
            <button
              type="button"
              class="rounded-md bg-crvsgreen-300 px-5 py-2.5 text-sm font-medium text-crvsgreen-900 hover:bg-crvsgreen-800 hover:text-white"
            >
              Add
            </button>

            <button
              type="button"
              data-bs-dismiss="modal"
              class="rounded-md bg-red-300 px-5 py-2.5 text-sm font-medium text-red-900 hover:bg-red-800 hover:text-white"
            >
              Cancel
            </button>
          </div>
        </div>
      </div>
    </div>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"
      integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>

    <!-- DevExtreme library -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdn3.devexpress.com/jslib/22.1.3/js/dx.all.js"></script>
    <script
      type="text/javascript"
      src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"
    ></script>

    <script src="../js/section.js"></script>

    <!-- modal-tailwindcss cnd script -->
    <script src="https://cdn.jsdelivr.net/npm/tw-elements/dist/js/index.min.js"></script>
    <link
      rel="stylesheet"
      href="https://cdn3.devexpress.com/jslib/21.2.7/css/dx.light.css"
    />
  </body>

  <!-- Adding toast message -->
  <script>
    // toastr.error("Have fun storming the castle!", "Miracle Max Says");
  </script>

  <script>
    const data = [
      {
        ID: 1,
        FirstName: "someone john",
        MiddleName: "name",
        LastName: "Someoone",
        PhoneNumber: "071809908",
        Email: "someoneelse@gmail.com",
      },
      {
        ID: 1,
        FirstName: "someone john",
        MiddleName: "name",
        LastName: "Someoone",
        PhoneNumber: "071809908",
        Email: "someoneelse@gmail.com",
      },
      {
        ID: 1,
        FirstName: "someone john",
        MiddleName: "name",
        LastName: "Someoone",
        PhoneNumber: "071809908",
        Email: "someoneelse@gmail.com",
      },
      {
        ID: 1,
        FirstName: "someone john",
        MiddleName: "name",
        LastName: "Someoone",
        PhoneNumber: "071809908",
        Email: "someoneelse@gmail.com",
      },
      {
        ID: 1,
        FirstName: "someone john",
        MiddleName: "name",
        LastName: "Someoone",
        PhoneNumber: "071809908",
        Email: "someoneelse@gmail.com",
      },

      {
        ID: 3,
        FirstName: "Kanye",
        MiddleName: "West",
        LastName: "Someoone",
        PhoneNumber: "04891180008",
        Email: "kanyelse@gmail.com",
      },
      {
        ID: 4,
        FirstName: "Jay",
        MiddleName: "Name",
        LastName: "Someoone",
        PhoneNumber: "079837783",
        Email: "JohnDoelse@gmail.com",
      },
    ];

    window.jsPDF = window.jspdf.jsPDF;

    $(() => {
      const dataGrid = $("#tablecontent").dxDataGrid({
        dataSource: data,
        showColumnLines: true,
        showRowLines: true,
        rowAlternationEnabled: true,
        showBorders: true,
        keyExpr: "ID",
        columnsAutoWidth: true,
        headerFilter: { visible: true },
        showBorders: true,
        filterRow: {
          visible: true,
          applyFilter: "auto",
        },

        columnChooser: {
          enabled: true,
          mode: "select",
        },

        export: {
          enabled: true,
          formats: ["pdf"],
          // allowExportSelectedData: true,
        },

        searchPanel: {
          visible: true,
          // with: 700,
          // position: left,
        },

        pager: {
          visible: true,
          pageSize: 1,
          allowedPageSizes: ["10", "20", "all"],
          infoText: "Page {0} of  {1} [ Total {2} items ]",
          showPageSizeSelector: true,
          showInfo: true,
          showNavigationButtons: true,
        },

        editing: {
          // allowEditing:true,
          allowUpdating: true,
          allowAdding: true,
          allowDeleting: true,
          useIcons: true,
          mode: "form", // 'batch' | 'cell' | 'form' | 'popup'
        },

        columns: [
          { dataField: "FirstName", allowEditing: false },
          { dataField: "MiddleName" },
          { dataField: "LastName" },
          { dataField: "PhoneNumber" },
          { dataField: "Email" },
        ],

        onInitNewRow: function (e) {},

        onEditingStart: function () {},

        // onExporting(e) {
        //   const doc = new jsPDF();

        //   DevExpress.pdfExporter
        //     .exportDataGrid({
        //       jsPDFDocument: doc,
        //       component: e.component,
        //     })
        //     .then(() => {
        //       const header = "Country Area, Population, and GDP Structure";
        //       const pageWidth = doc.internal.pageSize.getWidth();
        //       doc.setFontSize(15);
        //       const headerWidth = doc.getTextDimensions(header).w;
        //       doc.text(header, (pageWidth - headerWidth) / 2, 20);

        //       const footer = "www.wikipedia.org";
        //       doc.setFontSize(9);
        //       doc.setTextColor("#cccccc");
        //       const footerWidth = doc.getTextDimensions(footer).w;
        //       doc.text(footer, lastPoint.x - footerWidth, lastPoint.y + 5);

        //       doc.save("Companies.pdf");
        //     });
        // },

        onExporting(e) {
          const doc = new jsPDF();
          DevExpress.pdfExporter
            .exportDataGrid({
              margin: { top: 50, right: 10, bottom: 10, left: 10 },
              jsPDFDocument: doc,
              component: e.component,
              // indent: 5,
            })
            .then(() => {
              const header =
                "WAKALA WA USAJILI MATUKIO YA KIJAMII ZANZIBAR (ZCSRA)";
              const subheader = "STAFF MANAGEMENT REPORT";
              const pageWidth = doc.internal.pageSize.getWidth();
              const pageHeight = doc.internal.pageSize.getHeight();

              doc.addImage("../images/crvs-image.png", 15, 15, 30, 30);
              doc.addImage(
                "../images/crvs-image.png",
                pageWidth - 40,
                15,
                30,
                30
              );

              doc.text(header, pageWidth / 2, 23, {
                align: "center",
                maxWidth: 120,
                color: "#075985",
              });

              doc.setFontSize(14);
              doc.text(subheader, pageWidth / 2, 40, {
                align: "center",
                font: 10,
                maxWidth: 120,
                color: "#075985",
              });
              doc.text(
                new Date().toISOString("yyyy-mm-dd").substring(0, 10),
                pageWidth - 15,
                pageHeight - 5,
                { align: "right" }
              );
            })
            .then(() => {
              doc.save("Staff Management Report.pdf");
            });
        },
      });
    });
  </script>

  <div
    class="modal fade fixed top-0 left-0 hidden h-full w-full overflow-y-auto outline-none overflow-x-hidden"
    id="motherSearch"
    tabindex="-1"
    aria-labelledby="exampleModalLabel"
    aria-hidden="true"
  >
    <div class="modal-dialog modal-xl pointer-events-none relative w-auto">
      <div
        class="modal-content pointer-events-auto relative flex w-full flex-col rounded-md border-none bg-white bg-clip-padding text-current shadow-lg outline-none"
      >
        <div
          class="modal-header flex flex-shrink-0 items-center justify-between rounded-t-md border-b border-gray-200 p-4"
        >
          <h5
            class="text-xl font-medium uppercase leading-normal text-gray-800"
            id="exampleModalLabel"
          >
            Search
          </h5>
        </div>
        <div class="modal-body relative p-4">
          <form>
            <div class="grid grid-cols-3 gap-4 py-4 px-6">
              <label class="block">
                <span class="block text-base font-light">
                  <span class="font-medium">First Name:</span>
                </span>
                <input
                  type="number"
                  placeholder="First Name"
                  class="mt-1 h-10 w-full rounded border border-slate-400 bg-white px-4 focus:outline-crvsblue-700"
                />
              </label>

              <label class="block">
                <span class="block text-base font-light">
                  <span class="font-medium">Middle Name:</span>
                </span>
                <input
                  type="number"
                  placeholder="Middle Name"
                  class="mt-1 h-10 w-full rounded border border-slate-400 bg-white px-4 focus:outline-crvsblue-700"
                />
              </label>

              <label class="block">
                <span class="block text-base font-light">
                  <span class="font-medium">Last Name:</span>
                </span>
                <input
                  type="number"
                  placeholder="Last Name"
                  class="mt-1 h-10 w-full rounded border border-slate-400 bg-white px-4 focus:outline-crvsblue-700"
                />
              </label>
              <label class="block">
                <span class="block text-base font-light">
                  <span class="font-medium">PIN:</span>
                </span>
                <input
                  type="number"
                  class="mt-1 h-10 w-full rounded border border-slate-400 bg-white px-4 focus:outline-crvsblue-700"
                />
              </label>

              <label class="block">
                <span class="block text-base font-light">
                  <span class="font-medium">Zan ID:</span>
                </span>
                <input
                  type="number"
                  class="mt-1 h-10 w-full rounded border border-slate-400 bg-white px-4 focus:outline-crvsblue-700"
                />
              </label>

              <label class="block">
                <span class="block text-base font-light">
                  <span class="font-medium">National ID:</span>
                </span>
                <input
                  type="number"
                  placeholder="National ID"
                  class="mt-1 h-10 w-full rounded border border-slate-400 bg-white px-4 focus:outline-crvsblue-700"
                />
              </label>

              <label class="block">
                <span class="block text-base font-light">
                  <span class="font-medium">Passport ID:</span>
                </span>
                <input
                  type="number"
                  placeholder="Passport ID"
                  class="mt-1 h-10 w-full rounded border border-slate-400 bg-white px-4 focus:outline-crvsblue-700"
                />
              </label>

              <label class="block">
                <span class="block text-base font-light">
                  <span class="font-medium">Resident Permit ID:</span>
                </span>
                <input
                  type="number"
                  placeholder="Resident Permit ID"
                  class="mt-1 h-10 w-full rounded border border-slate-400 bg-white px-4 focus:outline-crvsblue-700"
                />
              </label>
              <label class="block">
                <span class="block text-base font-light">
                  <span class="font-medium">Birth Date:</span>
                </span>
                <input
                  type="date"
                  class="mt-1 h-10 w-full rounded border border-slate-400 bg-white px-4 focus:outline-crvsblue-700"
                />
              </label>
            </div>
          </form>

          <!-- The data table -->
          <div class="max-h-96"></div>
        </div>
        <div
          class="modal-footer flex flex-shrink-0 flex-wrap items-center justify-end space-x-3 rounded-b-md border-t border-gray-200 p-4 px-4"
        >
          <button
            type="button"
            class="rounded-md border border-crvsgreen-900 px-5 py-2.5 text-sm font-medium text-crvsgreen-900 hover:bg-crvsgreen-800 hover:text-white"
          >
            Search
          </button>
          <button
            type="button"
            class="rounded-md bg-crvsgreen-300 px-5 py-2.5 text-sm font-medium text-crvsgreen-900 hover:bg-crvsgreen-800 hover:text-white"
          >
            Search From Zan ID
          </button>

          <button
            type="button"
            data-bs-dismiss="modal"
            class="rounded-md bg-red-300 px-5 py-2.5 text-sm font-medium text-red-900 hover:bg-red-800 hover:text-white"
          >
            Cancel
          </button>
        </div>
      </div>
    </div>
  </div>
</html>
